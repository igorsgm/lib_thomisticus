function utf8_decode(r){var e=[],o=0,t=0,n=0;for(r+="";o<r.length;){t=255&r.charCodeAt(o),n=0,191>=t?(t=127&t,n=1):223>=t?(t=31&t,n=2):239>=t?(t=15&t,n=3):(t=7&t,n=4);for(var a=1;n>a;++a)t=t<<6|63&r.charCodeAt(a+o);4===n?(t-=65536,e.push(String.fromCharCode(55296|t>>10&1023)),e.push(String.fromCharCode(56320|1023&t))):e.push(String.fromCharCode(t)),o+=n}return e.join("")}function utf8_encode(r){if(null===r||"undefined"==typeof r)return"";var e,o,t=r+"",n="",a=0;e=o=0,a=t.length;for(var f=0;a>f;f++){var h=t.charCodeAt(f),i=null;if(128>h)o++;else if(h>127&&2048>h)i=String.fromCharCode(h>>6|192,63&h|128);else if(55296!==(63488&h))i=String.fromCharCode(h>>12|224,h>>6&63|128,63&h|128);else{if(55296!==(64512&h))throw new RangeError("Unmatched trail surrogate at "+f);var d=t.charCodeAt(++f);if(56320!==(64512&d))throw new RangeError("Unmatched lead surrogate at "+(f-1));h=((1023&h)<<10)+(1023&d)+65536,i=String.fromCharCode(h>>18|240,h>>12&63|128,h>>6&63|128,63&h|128)}null!==i&&(o>e&&(n+=t.slice(e,o)),n+=i,e=o=f+1)}return o>e&&(n+=t.slice(e,a)),n}